\begin{tikzpicture}
  [yscale=0.5,xscale=0.9]
  \node[] (O) at (0,0) {};
  \node[label={[shift={(-0.4,-0.4)}]\small $b_i^{min}$}] (bmin) at (0,1) {};
  \node[label={[shift={(-0.4,-0.4)}]\small $b_i^{max}$}] (bmax) at (0,4) {};
  \node[label={[shift={(-0.4,-0.4)}]\small $B$}] (B) at (0,6) {};
  \node[label={[shift={(0,-0.8)}]\small $t_1$}] (t1) at (2.5,0) {}; 
  \node[label={[shift={(0,-0.8)}]\small $t_2$}] (t2) at (6,0) {};
  % \node[label={[shift={(0,-0.8)}]\small $d_i$}] (di) at (7,0) {};
  

  \onslide<5->{
    \draw[fill=gray!50!black!30] (4.25,1) --(6,1) -- (6,6) -- (2.5,6) --
    (2.5,1) --  (2.5,0)  -- (4.25,0) -- (4.25,1) -- cycle;
    \draw[pattern=north east lines, pattern color=blue!80!black!80] (4.25,0) rectangle (6,1);
    \draw[pattern=north east lines, pattern color=blue!80!black!80] (6,0) rectangle (7.5,4);
    \node[label={[shift={(0,-0.8)}]\small \color{red} $est_i$}] (ri) at
    (4.25,0) {}; 
    \draw(ri.south) -- (ri.center);
  } 
  \draw[->] (O.center) -- (8,0);
  \draw (O.south) -- (B.north);
  \draw (B.center) -- (8,6);
  \draw[dashed] (bmin.center) -- (8,1);
  \draw[dashed] (bmax.center) -- (8,4);
  
  % \draw(di.south) -- (di.center);
  \draw[thick] (t1.south) -- (2.5,6.1);
  \draw[thick] (t2.south) -- (6,6.1);
  
  % \onslide<1>{
  % \draw[fill=gray!50!black!30] (4.25,1) --(6,1) -- (6,6) -- (2.5,6) -- (2.5,1) --  cycle;
  % \draw[pattern=north west lines, pattern color=red!80!black!80] (6,0) rectangle (2.5,1);
  % \node[label={[shift={(0,-0.8)}]\small $est_i$}] (ri) at (1.5,0) {}; }

  \onslide<2>{
    \draw[fill=gray!50!black!30]  (6,6) rectangle (2.5,1)
    node[color=gray!50!black!80, midway,text width= 2cm]
    {\small $\sum_{i \neq j} \bb[j]$};
    \draw[pattern=north west lines, pattern
    color=red!80!black!80] (6,0) rectangle (2.5,1); 
    \node[label={[shift={(0,-0.8)}]\small $est_i$}] (ri) at (1.5,0) {}; 
    \draw(ri.south) -- (ri.center);}

\onslide<1-2>{
    \node[label={[shift={(0,-0.8)}]\small $est_i$}] (ri) at (1.5,0)
    {}; 
}

  \onslide<3-4>{
    \draw[fill=gray!50!black!30] (4.25,1) --(6,1) -- (6,6) -- (2.5,6) -- (2.5,1) --  cycle;
    \draw[pattern=north west lines, pattern
    color=red!80!black!80] (6,0) rectangle (2.5,1); 
    \node[label={[shift={(0,-0.8)}]\small $est_i$}] (ri) at (1.5,0){}; 
    \draw(ri.south) -- (ri.center);
    \draw[pattern=north east lines, pattern color=blue!80!black!80] (1.5,0) rectangle (2.5,4);}

  \onslide<3>{
    \draw[pattern=north east lines, pattern color=blue!80!black!80] (2.5,0) rectangle (6,3);
  }

  \onslide<4>{
    \draw[pattern=north east lines, pattern color=blue!80!black!80] (6,0) rectangle (7,4);
    \draw[pattern=north east lines, pattern color=blue!80!black!80] (2.5,0) rectangle (6,1.5);
  } 

\end{tikzpicture}
